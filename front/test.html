<!--      * * * * * * * * * * * * * * * * * * * * * * * * * * *
          *                                                   *
          *                   CHOOSE & GO                     *
          *                                                   *
          * * * * * * * * * * * * * * * * * * * * * * * * * * *                  -->
          
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Choose&Go !</title>
    <link rel="stylesheet" href="test.css">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.9.0/css/all.css"> <!--pour les fafa icon-->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">   <!-- liens w3 school -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Trirong">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">  <!-- pour les icônes -->
    <link rel="icon" href="./pictures/favicon.ico"/>    <!--pour la petite icône en haut -->
    <script src="/socket.io/socket.io.js"></script>

    <!-- boostrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
</head>

<body class="fond">

    <!-- Map -->
    <div id="game" class="fond">
        <div id="HUD" hidden=true>
            <div id=time>
                <p>16h 00m</p>
            </div>
                <!-- bouton personne -->
            <div id="DestinationPersonne" >
                <div class="personne content" id="">
                    <div class="clearfix">
                        <button id="aplus" class="btn btn-outline-dark cancel" name="aplus" type="button">X</button>
                    </div>
                    <div class="destPersonne">
                        <br><br>
                        <div>Je voudrais aller <span id="dest"></span></div>
                        <div>Attention ! Cette personne va prendre sa voiture dans <span id="sec"></span> minutes !</div>
                        <div id="transport">
                            <button id="transportPied">Pied</button>
                            <button id="transportVelo">Vélo</button>
                            <button id="transportMetro">Métro</button>
                            <button id="transportTrain">Train</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <canvas></canvas>
    </div>

    <!-- Chargement -->
    <section id="loading-screen">
        <img class="logoC" src="./pictures/logo.png">
        <div id="loader"></div> 
        <img class="trainBouge" src="./pictures/train.png">
    </section>
    
    <!-- Demarrer -->
    <div id="home" class="menuDemarrer">
        <img class="logoD" src="./pictures/logoOmbre.png">
        <button id="play" class="boutonPlay" data-hover="Destination CirCity"><div>Jouer !</div></button>
    </div>

    <!-- Sélection level -->
    <div id="level" class="choixNivo">
        <button class="boutonChoix" id="level0" data-hover="Tutoriel"><div>Niveau 0</div></button>
        <button class="boutonChoix" id="level1" data-hover="Facile"><div>Niveau 1</div></button>
        <button class="boutonChoix" id="level2" data-hover="Moyen"><div>Niveau 2</div></button>
        <button class="boutonChoix" id="level3" data-hover="Moyen"><div>Niveau 3</div></button>
        <button class="boutonChoix" id="level4" data-hover="Difficile"><div>Niveau 4</div></button>
        <button class="boutonChoix" id="level5" data-hover="Expert"><div>Niveau 5</div></button>
    </div>

    <!-- Menu Pause -->
    <div id="menuPause" class="menuPause">
        <button id="continuer">Reprendre le niveau</button> <br><br>
        <button id="cog"><i class="fa fa-cog" aria-hidden="true"></i></button> <br><br>
        <button id="recommencer">Recommencer le niveau</button> <br><br>
        <button id="quitterJeu">Quitter le jeu</button>
    </div>

    <!-- Bouton Pause -->
    <button id="pause" class="pause" hidden><i class="fa fa-pause-circle"></i></button>

    <!-- Menu Paramètre -->
    <div id="menuParametre" class="menuParametre">
        <div>           
            <label for="volume" class="form-label">Volume : <span id="value"></span>%</label> <br>
            <input type="range" style="width:20%" class="form-range" id="myRange">
        </div>
        <br><br>
        <p>Ombres :</p>
        <div class="onoffswitch">
            <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" tabindex="0" checked>
            <label class="onoffswitch-label" for="myonoffswitch"></label>
        </div>
        <br><br>
        <button id="retour">Retour</button>
    </div>

     <!-- Alertes -->
     <div id="alerteRetry" class="alerte">
        <p>Attention ! En recommençant le niveau vous perdrez la progression en cours.</p>
        <button id="annulerRetry">Annuler</button>
        <button id="retry">Recommencer le niveau</button>
    </div>
    <div id="alerteQuit" class="alerte">
        <p>Attention ! En quittant le niveau vous perdrez la progression en cours.</p>
        <button id="annulerQuit">Annuler</button>
        <button id="quit">Quitter le niveau</button>
    </div>

    <!-- Game Over -->
    <div id="gameOver" class="menuPause">
        <h1>Vous avez <span id="result"></span>!</h1> 
    </div>

    <!-- Tuto -->
    <div id="tuto" class="tuto">
        <button id="closeTuto" class="btn btn-outline-dark cancel" hidden=true><i class="fa fa-remove"></i></button>
        <h1 id="titreTuto"></h1><br><br>
        <p id="phraseTuto"></p><br><br>
        <button class="boutonCoucou" id="commencerTuto">C'est parti <i class="fa fa-smile-o"></i></button>
        <button class="boutonCoucou" id="finTuto" hidden=true>Accès au jeu</button>
        <button class="boutonCoucou" id="finirTuto" hidden=true>Fin du tutoriel</button>
        <div id="pagination" class="pagination" style="display:none; width:1600px; justify-content: center;"></div>
    </div>

    <button id="relireTuto" class="relireTuto" hidden=true>Tutoriel <i class="fa fa-info-circle"></i></button>

    <div id="jauges" class="jauges">
        <!--Jauge voiture/pollution -->
        <div class="jaugeVoiture ">
            <i class="fas fa-car-side" style="font-size: 30px; margin-top: 30px; position:fixed; color:#E65E45;"></i>
            <div id="calculVoiture" class="calcul">+11</div>
            <div class="voitureProgress">
                <div id="barVoiture" class="bar shadow overlapVoiture" min="0" max="100"></div>
            </div>
        </div>
    
        <!--Jauge pas content -->
        <div class="jaugeHumeur">
            <i class="far fa-angry" style="font-size: 30px; margin-top: 35px; position: fixed; color:#e2942e;"></i>
            <div id="calculHumeur" class="calcul">+4</div>
            <div class="humeurProgress">
                <div id="barHumeur" class="bar shadow overlapHumeur" min="0" max="100"></div>
            </div>
        </div>
    </div>

    <!-- bouton mairie -->
    <div id="information" class="fenetre">
        <div class="mairie content">
            <div class="clearfix">
                <button id="cancel" class="btn btn-outline-dark cancel" name="cancel" type="button"><i class="fa fa-remove"></i></button>
            </div>
            <div class="panneau">
                <h2>Panneau d'informations de la <strong>Mairie</strong> :</h2>
                <br><br><br>
                <div id="bonheur" hidden=false>Tout va bien :)</div> 
                <div id="panneMetro" hidden=true>Le métro est en panne.</div>  
                <div id="panneTrain" hidden=true>Le train est en panne.</div>
                <div id="manqueVelo" hidden=true>Il manque des vélos à une station.</div>
                <div id="embouteillage" hidden=true>Il y a un embouteillage sur la route.</div>
            </div>
        </div>
    </div>

    <!-- bouton kiosque -->
    <div id="actualite" class="fenetre">
        <div class="kiosque content">
            <div class="clearfix">
                <button id="close" class="btn btn-outline-dark cancel" name="close" type="button">X</button>
            </div>
            <div class="pancarte">
                <h2>Voici les actualités du <strong>Kiosque</strong> :</h2>
                <br><br>
                <div id="score"></div> <br>
                <div id="badgeDebloque"></div> <br>
                <div id="prochainObjectif"></div>
            </div>
        </div>
    </div>

    <!-- bouton technicentre -->
    <div id="reparationTrain" class="fenetre">
        <div class="technicentre content">
            <div class="clearfix">
                <button id="croix" class="btn btn-outline-dark cancel" name="croix" type="button">X</button>
            </div>
            <div class="tableau">
                <h2>Tableau des missions du <strong>Technicentre</strong> :</h2>
                <br><br>
                <div id="parfait" hidden=false>Actuellement, il n'y a aucun soucis technique concernant les trains.</div> 
                <div id="probTrain" hidden=true><button id="trainRepare">Réparer le train</button></div> 
                <div id="jeuTechnicentreReussi" hidden=true>Vous avez réparé le train.</div> 
            </div>
        </div>
    </div>

     <!--Mini-Jeu Technicentre-->
     <div id="miniJeuTechnicentre" class="menuPause">
        <div class="technicentreContent">
            <button id="technicentreClose" class="btn btn-outline-dark cancel">X</button>
            <div class="box unT">
                <section class="droppableT-elements">
                    <div class="droppableT poubellebuche"  data-draggable-id="buche1" ><img class="poubelle" src="./pictures/poubelle.png" width="200" height="200"></div>
                </section>
            </div>
            <div class="box deuxT">
                <section class="draggableT-elements">
                    <img class="buche1 draggableT" src="./pictures/buche1.png" draggable="true" id="buche1">
                    <img class="buche2 draggableT" src="./pictures/buche2.png" draggable="true" id="buche2">
                    <img class="buche3 draggableT" src="./pictures/buche3.png" draggable="true" id="buche3">
                    <img class="buche4 draggableT" src="./pictures/buche4.png" draggable="true" id="buche4">
                </section>
            </div> 
        </div>
    </div>

    <!--bouton parking -->
    <div id="reparationVoiture" class="fenetre">
        <div class="parking content">
            <div class="clearfix">
                <button id="fermer" class="btn btn-outline-dark cancel" name="fermer" type="button">X</button>
            </div>
            <div class="barriere">
                <h2>Résolution de l' <strong>Embouteillage</strong> :</h2>
                <br><br>
                <div id="joie" hidden=false>Le trafic est fluide pour le moment.</div> 
                <div id="probVoiture" hidden=true><button id="traficOk">Fluidifier le trafic</button></div> 
                <div id="jeuParkingReussi" hidden=true>Vous avez fluidifier le trafic.</div> 
            </div>
        </div>
    </div>

    <!-- Mini-Jeu Parking -->
    <div id="miniJeuParking" class="menuPause">
        <div class="parkingContent" style="padding-left: 26.8%; padding-top: 4.6%; text-align:left;">
            <button id="parkingClose" class="btn btn-outline-dark cancel">X</button>
            <div class="box unP">
                <section class="droppableP-elements">
                    <div class="droppableP voitureJaune" style="background-color:#ffcf33;" data-draggable-id="voitureJaune" ><span></span></div>
                    <div class="droppableP voitureRouge" style="background-color:#FE0000;" data-draggable-id="voitureRouge"><span></span></div>
                    </section>
            </div>
            <div class="box deuxP">
                <section class="draggableP-elements">
                    <img class="voitureJaune draggableP" src="./pictures/voitureJaune.png" draggable="true" id="voitureJaune">
                    <img class="voitureRouge draggableP" src="./pictures/voitureRouge.png" draggable="true" id="voitureRouge">
                    <img class="voitureJaune draggableP" src="./pictures/voitureBleu.png" draggable="true" id="voitureBleu">
                    <img class="voitureRouge draggableP" src="./pictures/voitureVert.png" draggable="true" id="voitureVert">
                </section>
            </div> 
            <div class="box troisP">
                <section class="droppableP-elements">
                    <div class="droppableP voitureBleu" style="background-color:#4A4EFC;" data-draggable-id="voitureBleu"><span></span></div>
                    <div class="droppableP voitureVert" style="background-color:#659b41;" data-draggable-id="voitureVert"><span></span></div>
                </section>
            </div>
        </div>
    </div>

    <!-- bouton garage -->
    <div id="stockVelo" class="fenetre">
        <div class="garage content">
            <div class="clearfix">
                <button id="quitter" class="btn btn-outline-dark cancel" name="quitter" type="button">X</button>
            </div>
            <div class="porte">
                <h2><strong>Garage</strong> de maintien du stock de vélo :</h2>
                <br><br>
                <div id="noStress" hidden=false>Il y a assez de vélo.</div> 
                <div id="probVelo" hidden=true><button id="veloRempli">Remettre des vélos</button></div> 
                <div id="jeuGarageReussi" hidden=true>Vous avez remis des vélos.</div>
            </div>
        </div>
    </div> 

    <!-- Mini-Jeu Garage -->
    <div id="miniJeuGarage" class="menuPause">
        <button id="garageClose" class="btn btn-outline-dark cancel">X</button>
        <div class="grid-container">
            <div class="grid-item item1"></div>
            <div class="grid-item item2">
                <div class="veloRouge img"><img  src="./pictures/veloRouge.png" width="200" height="130"></div>
            </div>
            <div class="grid-item item3">
                <div class="veloBleu img"><img  src="./pictures/veloBleu.png" width="200" height="130">  </div>                       
            </div>
            <div class="grid-item item4"></div>
            <div class="grid-item item5"></div>
            <div class="grid-item item6">
                <div class="veloJaune img"><img  src="./pictures/veloJaune.png" width="200" height="130">  </div>
            </div>  
            <div class="grid-item item7">
                <div class="veloVert img"><img  src="./pictures/veloVert.png" width="200" height="130">  </div>
            </div>
            <div class="grid-item item8"></div>
            <div class="grid-item item9"></div>
            <div class="grid-item item10">
                <img class="pioche" draggable="true" src="./pictures/pioche.png" width="320" height="190">
    
                <section class="draggableG-elements" style="margin:-179px 17px 13px 0; width: 100%;">
                    <img class="roueBleu draggableG" draggable="true" src="./pictures/roueBleu.png" id="roueBleu" width="90" height="90">
                    <img class="roueJaune draggableG" draggable="true" src="./pictures/roueJaune.png" id="roueJaune" width="90" height="90">
                    <img class="roueRouge draggableG" draggable="true" src="./pictures/roueRouge.png" id="roueRouge" width="90" height="90">
                    <img class="roueVert draggableG" draggable="true" src="./pictures/roueVert.png" id="roueVert" width="90" height="90">
                </section>
                <section class="draggableG-elements">
                    <img class="roueRouge draggableG aledRouge" draggable="true" src="./pictures/roueRouge.png" id="roueRouge" width="90" height="90">
                    <img class="roueVert draggableG aledVert" draggable="true" src="./pictures/roueVert.png" id="roueVert" width="90" height="90">
                    <img class="roueBleu draggableG aledBleu" draggable="true" src="./pictures/roueBleu.png" id="roueBleu" width="90" height="90">
                    <img class="roueJaune draggableG aledJaune" draggable="true" src="./pictures/roueJaune.png" id="roueJaune" width="90" height="90">
                </section>
            </div>
        </div>                
    
        <section class="droppableG-elements">
            <div class="droppableG rouge1" data-draggable-id="roueRouge"></div>
            <div class="droppableG rouge2" data-draggable-id="roueRouge"></div>
            <div class="droppableG bleu1" data-draggable-id="roueBleu"></div>
            <div class="droppableG bleu2" data-draggable-id="roueBleu"></div>
            <div class="droppableG jaune1" data-draggable-id="roueJaune"></div>
            <div class="droppableG jaune2" data-draggable-id="roueJaune"></div>
            <div class="droppableG vert1" data-draggable-id="roueVert"></div>
            <div class="droppableG vert2" data-draggable-id="roueVert"></div>
        </section-->
    </div>

    <!-- bouton atelier -->
    <div id="reparationMetro" class="fenetre">
        <div class="atelier content">
            <div class="clearfix">
                <button id="partir" class="btn btn-outline-dark cancel" name="partir" type="button">X</button>
            </div>
            <div class="affiche">
                <h2>Affiche des tâches de l' <strong>Atelier</strong> :</h2>
                <br><br>
                <div id="relax" hidden=false>Actuellement, il n'y a aucun soucis technique concernant les métros.</div> 
                <div id="probMetro" hidden=true><button id="metroRepare">Réparer le métro</button></div> 
                <div id="jeuAtelierReussi">Vous avez réparé le métro.</div>
            </div>
        </div>
    </div> 

    <!-- Mini-Jeu Atelier -->
    <div id="miniJeuAtelier" style="z-index:30" class="menuPause">
        <button id="atelierClose" class="btn btn-outline-dark cancel">X</button>
        <img src="./pictures/cable.png" id="image">
        <canvas id="canvas" allow="autoplay"></canvas>
    </div>

    <!-- bouton gare -->
    <div id="horaireTrain" class="fenetre">
        <div class="gare content">
            <div class="clearfix">
                <button id="bye" class="btn btn-outline-dark cancel" name="bye" type="button">X</button>
            </div>
            <div class="tabAff">
                <h2>Tableau d'affichage des horaires des <strong>Trains</strong> :</h2>
                <br><br>
                <div id="prochainTrain" hidden=true>Le prochain train arrive à la gare Nord dans <span id="tempsTrainArrive"></span> minutes.</div> 
                <div id="trainEnGare" hidden=true>Le train est en gare. Il part dans <span id="tempsTrainAttente"></span> minutes.</div> 
                <div id="attenteTrain" hidden=true>Le train est en panne.</div>
            </div>
        </div>
    </div>

     <!-- bouton station métro-->
     <div id="horaireMetro1" class="fenetre">
        <div class="stationM content">
            <div class="clearfix">
                <button id="ciao1" class="btn btn-outline-dark cancel" name="ciao" type="button">X</button>
            </div>
            <div class="horaireM">
                <h2>Tableau d'affichage des horaires des <strong>Métros</strong> :</h2>
                <br><br>
                <div id="prochainMetro1" hidden=true>Le prochain métro part dans <span id="tempsMetro1"></span> minutes.</div> 
                <div id="attenteMetro1" hidden=true>Le métro est en panne</div>
            </div>
        </div>
    </div>

    <div id="horaireMetro2" class="fenetre">
        <div class="stationM content">
            <div class="clearfix">
                <button id="ciao2" class="btn btn-outline-dark cancel" name="ciao" type="button">X</button>
            </div>
            <div class="horaireM">
                <h2>Tableau d'affichage des horaires des <strong>Métros</strong> :</h2>
                <br><br>
                <div id="prochainMetro2" hidden=true>Le prochain métro part dans <span id="tempsMetro2"></span> minutes.</div> 
                <div id="attenteMetro2" hidden=true>Le métro est en panne</div>
            </div>
        </div>
    </div>

    <!-- bouton station vélo -->
    <div id="veloRestants1" class="fenetre">
        <div class="stationV content">
            <div class="clearfix">
                <button id="aurevoir1" class="btn btn-outline-dark cancel" name="aurevoir" type="button">X</button>
            </div>
            <div class="compteurV">
                <h2>Stock des <strong>Vélos</strong> restants :</h2>
                <br><br>
                <div id="nombreVelo1" hidden=true>Il reste <span id="resteVelo1"></span> vélos.</div> 
            </div>
        </div>
    </div>

    <div id="veloRestants2" class="fenetre">
        <div class="stationV content">
            <div class="clearfix">
                <button id="aurevoir2" class="btn btn-outline-dark cancel" name="aurevoir" type="button">X</button>
            </div>
            <div class="compteurV">
                <h2>Stock des <strong>Vélos</strong> restants :</h2>
                <br><br>
                <div id="nombreVelo2" hidden=true>Il reste <span id="resteVelo2"></span> vélos.</div> 
            </div>
        </div>
    </div>


    <div id='Personnes' style="position: absolute; z-index:2; width: 100%; margin-top:50px;"></div>
    
    <script>
        let socket = io();
    </script>
    <script type="text/javascript" src="../models/Chrono.js"></script>
    <script type="text/javascript" src="build/three.js"></script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mrdoob/three.js/master/examples/js/loaders/GLTFLoader.js"></script>
    <script type="text/javascript" src="build/stats.min.js"></script>
    <script type="text/javascript" src="build/three.interaction/build/three.interaction.js"></script>
    <script type="text/javascript" src="build/OrbitControls.js"></script>
    <script type="text/javascript" src="mainView.js"></script>
    <script type="text/javascript" src="test.js"></script>
</body>
</html>